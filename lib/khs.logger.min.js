/*! khs.logger - v0.0.4 2013-03-17 */
(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function o(o,t){var i=function(i){r&&(i.stopPropagation(),n(l)&&(null!==l&&l.children("div#khstooltip").remove(),o.attr("title",s)),s=o.attr("title"),o.attr("title","showing"),o.append('<div id="khstooltip"><div class="khstipHeader"></div><div class="khstipBody"><h>'+t+'</div><div class="khstipFooter"></div></div>'),e("#khstooltip").css("top",i.pageY+5).css("left",i.pageX+10).fadeIn("500").fadeTo("10",.8))};o.mouseenter(function(){l=o,r&&(l.css("outline","medium solid #FF0000"),l.attr("title","showing"),l.dblclick(i))}).mousemove(function(){}).mouseleave(function(){null!==l&&(l.children("div#khstooltip").remove(),l.attr("title",s),l.css("outline",""),l=null),o.css("outline","")})}function n(e){var o=e.attr("title");return"showing"==o}function t(){var o=" #khstooltip {  position:absolute;  z-index:9999;  color:#fff;  font-size:10px;  width:580px; }",n=" #khstooltip .khstipHeader {  height:8px; } ",t="/* IE hack */*html #khstooltip .khstipHeader {margin-bottom:-6px;}",i="#khstooltip .khstipBody { background-color:#000;  padding:5px;  }",r="#khstooltip .khstipFooter { height:8px;  } ",l="<style>"+o+n+t+i+r+"</style>";e(l).appendTo("body")}function i(){window.onkeypress=function(o){-1!=e.Log.keyCodes.indexOf(o.keyCode)&&o.ctrlKey&&(e.Log.isInspecting()?e.Log.inspectOff():e.Log.inspectOn())},t()}var r=!1,l=null,s=null;window.console||(window.console={}),window.console.log||(window.console.log=function(){}),window.console.info||(window.console.info=function(){}),window.console.debug||(window.console.debug=function(){}),window.console.error||(window.console.error=function(){}),window.console.warn||(window.console.warn=function(){}),e.LogLevel={log:0,debug:1,info:2,warn:3,error:4},e.Log={keyCodes:[10,13],level:e.LogLevel.info,remoteLevel:e.LogLevel.error,color:"#FF0000",remoteUrl:null,beforeSend:null,log:function(o){if(this.level<=e.LogLevel.log){var n=a("LOG",o);this.remoteLevel<=e.LogLevel.log&&f(this.remoteUrl,n,this.beforeSend),console.log(n)}},info:function(o){if(this.level<=e.LogLevel.info){var n=a("INFO",o);this.remoteLevel<=e.LogLevel.info&&f(this.remoteUrl,n,this.beforeSend),console.info(n)}},debug:function(o){if(this.level<=e.LogLevel.debug){var n=a("DEBUG",o);this.remoteLevel<=e.LogLevel.debug&&f(this.remoteUrl,n,this.beforeSend),console.debug(n)}},error:function(o){if(this.level<=e.LogLevel.error){var n=a("ERROR",o);this.remoteLevel<=e.LogLevel.error&&f(this.remoteUrl,n,this.beforeSend),console.error(n)}},warn:function(o){if(this.level<=e.LogLevel.warn){var n=a("WARN",o);this.remoteLevel<=e.LogLevel.warn&&f(this.remoteUrl,n,this.beforeSend),console.warn(n)}},inspect:function(){i()},inspectOn:function(){r=!0},inspectOff:function(){r=!1},isInspecting:function(){return r},mark:function(e,n,t){var i="<b>Model:<b>&nbsp;</br>",r="<div><b>Id:&nbsp;</b>"+e.attr("id")+"</br><b>View:&nbsp;</b>"+n+"</div>";null!==t&&(i+="<div style='height : 150px; overflow : auto;'><pre>"+u(t,"")+"</pre></div>",r+=i),o(e,r)},render:function(e,o,n){this.pre(o);var t="\n\nModel:";e.model&&(t+="<div style='height : 150px; overflow : auto;'>"+u(e.model.toJSON(),"")+"</div>"),this.mark(e.$el,o+t),n.apply(null,[e]),this.post(o)},pre:function(e){console.info(a("INFO",e))},post:function(e){console.info(a("INFO",e))}};var c=function(e){return"object"==typeof e?null===e?"null":e.constructor===[].constructor?"array":e.constructor===(new Date).constructor?"date":e.constructor===RegExp().constructor?"regex":"object":typeof e},u=function(o,n){var t,i;2>arguments.length&&(n="");var r="    ",l=c(o);if("array"===l){if(0===o.length)return"[]";t="["}else{if(i=0,e.each(o,function(){i++}),0===i)return"{}";t="{"}return i=0,e.each(o,function(e,o){switch(i>0&&(t+=","),t+="array"==l?"\n"+n+r:"\n"+n+r+'"'+e+'"'+": ",c(o)){case"array":case"object":t+=u(o,n+r);break;case"boolean":case"number":t+=""+o;break;case"null":t+="null";break;case"string":t+='"'+o+'"';break;default:t+="TYPEOF: "+typeof o}i++}),t+="array"==l?"\n"+n+"]":"\n"+n+"}"},a=function(e,o){var n=new Date,t=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+":"+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+":"+n.getMilliseconds();return e+":"+t+"->"+o},f=function(o,n,t){if(null!==o){var i=o+"/"+encodeURI(n.split("/").join(" "));e.ajax({url:i,beforeSend:t,success:function(){},error:function(){console.error("Error sending remote log message to - "+i)}})}};return e(function(){}),e.Log});